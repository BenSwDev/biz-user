<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>אתר דוקומנטציה - אפיון עמודי מערכת (29 עמודים)</title>
    <style>
        /* Reset & base */
        * {
          box-sizing: border-box;
        }
        body {
          margin: 0;
          padding: 0;
          font-family: "Arial", sans-serif;
          direction: rtl;
          background-color: #f0f0f0;
          color: #333;
        }
        a {
          color: #006699;
          text-decoration: none;
        }
        a:hover {
          text-decoration: underline;
        }

        /* Layout */
        .container {
          display: flex;
          min-height: 100vh;
        }
        nav.sidebar {
          width: 240px;
          background: #2d3e50;
          color: #fff;
          padding: 20px;
          flex-shrink: 0;
        }
        nav.sidebar h2 {
          font-size: 20px;
          margin-bottom: 10px;
        }
        nav.sidebar ul {
          list-style: none;
          margin: 0;
          padding: 0;
        }
        nav.sidebar li {
          margin-bottom: 5px;
        }
        nav.sidebar a {
          display: block;
          padding: 8px 12px;
          color: #fff;
          border-radius: 4px;
          transition: background 0.3s;
        }
        nav.sidebar a:hover {
          background: #1f2a38;
        }
        .content {
          flex-grow: 1;
          background: #fff;
          padding: 20px 30px;
          max-width: 1200px;
          margin: 0 auto;
        }

        .page-title {
          font-size: 24px;
          margin: 0 0 1rem;
          border-bottom: 2px solid #ccc;
          padding-bottom: 0.3rem;
        }

        /* Headings */
        h2, h3, h4 {
          margin-top: 1.5rem;
          margin-bottom: 0.5rem;
        }
        p, ul, table {
          margin-bottom: 1rem;
        }

        /* Tables */
        table {
          width: 100%;
          border-collapse: collapse;
          margin-bottom: 1.5rem;
        }
        table th, table td {
          border: 1px solid #ddd;
          padding: 8px;
          vertical-align: top;
        }
        table th {
          background: #f2f2f2;
        }

        /* Additional style */
        .sectionBox {
          margin-bottom: 1.5rem;
          padding: 12px;
          background: #fafafa;
          border: 1px dashed #ccc;
        }
        .anchor-target {
          margin-top: 60px; /* offset for anchor */
          padding-top: 10px;
        }
        .anchor-target:target {
          outline: 2px dashed #88f;
          background: #eef;
          transition: background 0.2s;
        }
        .placeholder {
          color: #666;
          font-style: italic;
        }

    </style>
</head>
<body>
<div class="container">

    <!-- SIDEBAR -->
    <nav class="sidebar">
        <h2>ניווט</h2>
        <ul>
            <li><a href="#intro">הקדמה כללית</a></li>
            <li><a href="#page1">1. מסך ראשי (home)</a></li>
            <li><a href="#page2">2. בדיקת כרטיס אשראי (ccard)</a></li>
            <li><a href="#page3">3. הצטרפות לסליקה דרך המערכת (cc)</a></li>
            <li><a href="#page4">4. פירוט עסקאות (yaadTrans)</a></li>
            <li><a href="#page5">5. ניהול גיפטקארד (giftcards)</a></li>
            <li><a href="#page6">6. ניהול מנויים (subscriptions)</a></li>
            <li><a href="#page7">7. יומן תפוסה ספא (absolute_calendar)</a></li>
            <li><a href="#page8">8. יצירת הזמנה ספא (create_order)</a></li>
            <li><a href="#page9">9. הגדרות ספא (treatments / treaters)</a></li>
            <li><a href="#page10">10. דוחות (report_manage)</a></li>
            <li><a href="#page11">11. הצהרות בריאות (healthStatements)</a></li>
            <li><a href="#page12">12. יומן זמינות והזמנות (calendar_ver2)</a></li>
            <li><a href="#page13">13. יצירת הזמנה (create_order) – וריאציה</a></li>
            <li><a href="#page14">14. דוחות (userType=2)</a></li>
            <li><a href="#page15">15. לקוחות (clients)</a></li>
            <li><a href="#page16">16. חיפוש הזמנות (orders-list)</a></li>
            <li><a href="#page17">17. מחירים (prices)</a></li>
            <li><a href="#page18">18. הגדרות (agreements)</a></li>
            <li><a href="#page19">19. חוות דעת (reviews)</a></li>
            <li><a href="#page20">20. סטטיסטיקות (stats)</a></li>
            <li><a href="#page21">21. עדכון פנויים (vilasavail)</a></li>
            <li><a href="#page22">22. מסך ראשי (userType=2)</a></li>
            <li><a href="#page23">23. יומן תפוסה ספא (userType=2)</a></li>
            <li><a href="#page24">24. יצירת הזמנה ספא (userType=2)</a></li>
            <li><a href="#page25">25. ניהול גיפטקארד (userType=2)</a></li>
            <li><a href="#page26">26. הצהרות בריאות (userType=2)</a></li>
            <li><a href="#page27">27. חיפוש הזמנות (userType=2)</a></li>
            <li><a href="#page28">28. חוות דעת (userType=2)</a></li>
            <li><a href="#page29">29. דוחות (userType=2)</a></li>
        </ul>
    </nav>

    <!-- CONTENT -->
    <div class="content">

        <!-- הקדמה כללית -->
        <div id="intro" class="anchor-target">
            <h1 class="page-title">מסמך אפיון מלא – הקדמה כוללת לכל עמודי המערכת לפי התפריט</h1>
            <p>
                במערכת קיימים מספר עמודים וקטגוריות מרכזיות, אליהם מנווטים דרך התפריט הראשי
                (כמופיע בקובץ <code>/partials/menu.php</code>). כל עמוד ממלא תפקיד פונקציונלי אחר במערכת,
                ומאפשר לנצל יכולות שונות (ניהול הזמנות, גיפטקארד, דוחות ועוד). בנוסף, קיימים
                קבצי קוד בסיסיים האחראים על סביבת העבודה (אימות, הרשאות, פונקציות עזר כלליות וכו’).
            </p>

            <p>
                <strong>דוגמאות לקבצים בסיסיים</strong><br>
                - <strong>auth.php</strong> – אחראי על אימות גולשים, תחזוקת סשן והרשאות משתמש.<br>
                - <strong>functions.php</strong> – הגדרות כלליות ו”פונקציות עזר” משותפות.<br>
                - <strong>index.php</strong> – נקודת כניסה ראשית; טוען הגדרות, שפה, תפריטים, ומפנה לעמודים שונים.<br>
                - <strong>partials/menu.php</strong> – מגדיר את רשימת העמודים בתפריט הראשי, כולל קריטריונים כמו
                <code>userType=0/2</code>, <code>calendarOnly</code> ועוד.
            </p>

            <p>
                במערכת זו, פריטי תפריט מסוימים מוצגים או מוסתרים בתנאים שונים (למשל
                <code>userType=0</code> או <code>userType=2</code>) וכן תלוי אם
                <code>calendar_only=true/false</code>, וכדומה. הסלקטור <code>page=?</code> מפנה בפועל
                לקובץ PHP מסוים (כפי שהוסבר בהמשך).
            </p>

            <hr>
            <h3>עמודי המערכת כפי שהם מופיעים בתפריט (בהתאם ל־partials/menu.php)</h3>
            <p>להלן רשימת העמודים העיקריים, לצד ההפניה ל־PHP (מתוך הקובץ <code>?page=XXX</code>)...</p>
            <ul>
                <li>1. מסך ראשי (home)</li>
                <li>2. בדיקת כרטיס אשראי (ccard)</li>
                <li>3. הצטרפות לסליקה דרך המערכת (cc)</li>
                <li>4. פירוט עסקאות (yaadTrans)</li>
                <li>5. ניהול גיפטקארד (giftcards)</li>
                <li>6. ניהול מנויים (subscriptions)</li>
                <li>7. יומן תפוסה ספא (absolute_calendar)</li>
                <li>8. יצירת הזמנה ספא (create_order)</li>
                <li>9. הגדרות ספא (treatments / treaters)</li>
                <li>10. דוחות (report_manage)</li>
                <li>11. הצהרות בריאות (healthStatements)</li>
                <li>12. יומן זמינות והזמנות (calendar_ver2)</li>
                <li>13. יצירת הזמנה (create_order) – וריאציה שנייה</li>
                <li>14. דוחות (userType=2) – שוב אזכור</li>
                <li>15. לקוחות (clients)</li>
                <li>16. חיפוש הזמנות (orders-list)</li>
                <li>17. מחירים (prices)</li>
                <li>18. הגדרות (agreements)</li>
                <li>19. חוות דעת (reviews)</li>
                <li>20. סטטיסטיקות (stats)</li>
                <li>21. עדכון פנויים (vilasavail)</li>
                <li>22. מסך ראשי – שוב, למשתמש userType=2</li>
                <li>23. יומן תפוסה ספא (userType=2)</li>
                <li>24. יצירת הזמנה ספא (userType=2)</li>
                <li>25. ניהול גיפטקארד (userType=2)</li>
                <li>26. הצהרות בריאות (userType=2)</li>
                <li>27. חיפוש הזמנות (userType=2)</li>
                <li>28. חוות דעת (userType=2)</li>
                <li>29. דוחות (userType=2)</li>
            </ul>

            <h3>סיכום קצר של העמודים בתפריט</h3>
            <ul>
                <li>חלקם עוסקים במכירות וכספים (כמו ccard, yaadTrans, giftcards)</li>
                <li>חלקם לניהול לקוחות או הגדרות (clients, agreements)</li>
                <li>חלקם ספציפיים יותר לסוג אתר (absolute_calendar, cc)</li>
                <li>חלקם דוחות או סטטיסטיקות (report_manageZ, stats)</li>
            </ul>

            <p>
                <strong>הערה על הרשאות</strong>: ב-<code>partials/menu.php</code> יש לוגיקה נוספת שקובעת האם פריט תפריט יוצג או לא.
                בנוסף, קיימים עוד קבצי PHP ברשימה הכוללת שאינם מופיעים בתפריט הראשי, אך קיימים לניהול פנימי או עמודי משנה.
            </p>

            <hr>
            <h3>קבצי קוד בסיסיים</h3>
            <ul>
                <li><strong>auth.php</strong> – אחראי על אימות והרשאות.</li>
                <li><strong>functions.php</strong> – פונקציות עזר כלליות.</li>
                <li><strong>index.php</strong> – נקודת כניסה, טוען תפריט וכו’.</li>
                <li><strong>partials/menu.php</strong> – הגדרת פריטי התפריט והרשאות.</li>
            </ul>

            <hr>
            <h3>העמודים ברשימה והקשר לתפריט (טבלה)</h3>
            <table>
                <thead>
                <tr>
                    <th>שם קצר בתפריט</th>
                    <th>page=?</th>
                    <th>קובץ PHP</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>מסך ראשי</td>
                    <td>home</td>
                    <td>home.php</td>
                </tr>
                <tr>
                    <td>בדיקת כרטיס אשראי</td>
                    <td>(orders-to-sign) => ccard</td>
                    <td>ccard.php</td>
                </tr>
                <tr>
                    <td>הצטרפות לסליקה</td>
                    <td>join-cc-service => cc</td>
                    <td>cc.php</td>
                </tr>
                <tr>
                    <td>פירוט עסקאות</td>
                    <td>(orders-to-sign) => yaadTrans</td>
                    <td>yaadTrans.php</td>
                </tr>
                <tr>
                    <td>ניהול גיפטקארד</td>
                    <td>giftcards => giftcards&gc=1</td>
                    <td>giftcards.php</td>
                </tr>
                <tr>
                    <td>ניהול גיפטקארד (userType=2)</td>
                    <td>giftcards => giftcards-log2 & gc=1</td>
                    <td>giftcards-log2.php</td>
                </tr>
                <tr>
                    <td>ניהול מנויים</td>
                    <td>subscriptions</td>
                    <td>subscriptions.php</td>
                </tr>
                <tr>
                    <td>יומן תפוסה ספא</td>
                    <td>yoman => absolute_calendar</td>
                    <td>absolute_calendar.php</td>
                </tr>
                <tr>
                    <td>יצירת הזמנה ספא</td>
                    <td>create_order => orders</td>
                    <td>orders.php</td>
                </tr>
                <tr>
                    <td>הגדרות ספא (מטפלים)</td>
                    <td>treatments => treaters</td>
                    <td>treaters.php</td>
                </tr>
                <tr>
                    <td>דוחות (מספר גרסאות)</td>
                    <td>report_manage => report_manageZ</td>
                    <td>report_manageZ.php</td>
                </tr>
                <tr>
                    <td>הצהרות בריאות</td>
                    <td>(orders-to-sign) => healthStatements</td>
                    <td>healthStatements.php</td>
                </tr>
                <tr>
                    <td>יומן זמינות והזמנות</td>
                    <td>yoman => calendar_ver2</td>
                    <td>calendar_ver2.php</td>
                </tr>
                <tr>
                    <td>יצירת הזמנה (כללי)</td>
                    <td>create_order => orders</td>
                    <td>orders.php</td>
                </tr>
                <tr>
                    <td>לקוחות</td>
                    <td>(orders-to-sign) => clients</td>
                    <td>clients.php</td>
                </tr>
                <tr>
                    <td>חיפוש הזמנות</td>
                    <td>orders-list => orders</td>
                    <td>orders.php</td>
                </tr>
                <tr>
                    <td>מחירים</td>
                    <td>orders-list => prices</td>
                    <td>prices.php</td>
                </tr>
                <tr>
                    <td>הגדרות</td>
                    <td>(orders-to-sign) => agreements</td>
                    <td>agreements.php</td>
                </tr>
                <tr>
                    <td>חוות דעת</td>
                    <td>(orders-to-sign) => reviews</td>
                    <td>reviews.php</td>
                </tr>
                <tr>
                    <td>סטטיסטיקות</td>
                    <td>stats</td>
                    <td>stats.php</td>
                </tr>
                <tr>
                    <td>עדכון פנויים (צימרים)</td>
                    <td>vilasavail</td>
                    <td>vilasavail.php</td>
                </tr>
                </tbody>
            </table>

            <hr>
            <h3>רשימת קבצים שאינם מופיעים בתפריט אך קיימים במערכת</h3>
            <ul>
                <li>1. absolute_calendar.old.php</li>
                <li>2. absolute_calendar2.php</li>
                <li>3. absolute_calendar_dev.php</li>
                <li>4. ajax_paytypes.php</li>
                <li>5. alerts.php</li>
                <li>6. bizpop_settings.php</li>
                <li>7. calendar.php</li>
                <li>8. calendar2.php</li>
                <li>9. calendar2_ver2.php</li>
                <li>10. calendar_old.php</li>
                <li>11. calendarnew.php</li>
                <li>12. clients_pages.php</li>
                <li>13. galleryGlobal.php</li>
                <li>14. giftcards-log.php (לעומת giftcards-log2 למשתמש-על)</li>
                <li>15. healthdec.php</li>
                <li>16. hours.php</li>
                <li>17. monthmaster.php</li>
                <li>18. monthmaster_dev.php</li>
                <li>19. monthtotals.php</li>
                <li>20. monthtotals_dev.php</li>
                <li>21. monthtotals_test.php</li>
                <li>22. O_clients.php</li>
                <li>23. OLD_treaters.php</li>
                <li>24. orderTexts.php</li>
                <li>25. paymentsettings.php</li>
                <li>26. paytypes.php</li>
                <li>27. products.php</li>
                <li>28. report_budget.php</li>
                <li>29. report_extras.php</li>
                <li>30. report_manage_dev.php</li>
                <li>31. report_manage_test.php</li>
                <li>32. report_operative.php</li>
                <li>33. report_period.php</li>
                <li>34. report_treatments.php</li>
                <li>35. sales-banners.php</li>
                <li>36. settings.php</li>
                <li>37. shiftscalendar.php</li>
                <li>38. sites_cupons.php</li>
                <li>39. sources.php</li>
                <li>40. statistics.php</li>
                <li>41. stats_treatments.php</li>
                <li>42. treat_desc.php</li>
                <li>43. treatmentsrooms.php</li>
                <li>44. workers.php</li>
            </ul>

            <p>
                <strong>זהו המסמך המרכזי המאגד את 26 (ויותר) העמודים המרכזיים במערכת (סעיפים 1–29)</strong>.
                ניתן להעתיק את התוכן כפי שהוא (כולל טבלאות) אל Word לצורך המשך עבודה.
            </p>
        </div>

        <!-- PAGES 1..4,7..29: Placeholders with empty structure -->
        <!-- PAGE 1 -->
        <div id="page1" class="anchor-target">
            <h2 class="page-title">1. מסך ראשי (home)</h2>
            <h3>הקדמה</h3>
            <p class="placeholder">(טרם נכתב)</p>

            <h3>הקבצים הרלוונטיים לצורך</h3>
            <p class="placeholder">—</p>

            <h3>קבצים נוספים אפשריים (לא סופקו במלואם)</h3>
            <p class="placeholder">—</p>

            <h3>תרחישים כוללים בעמוד</h3>
            <p class="placeholder">—</p>

            <h3>קבצים שנבדקו לצורך</h3>
            <p class="placeholder">—</p>

            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3>
            <p class="placeholder">—</p>

            <h3>סיכום</h3>
            <p class="placeholder">—</p>
        </div>

        <!-- PAGE 2 -->
        <div id="page2" class="anchor-target">
            <h2 class="page-title">2. בדיקת כרטיס אשראי (ccard)</h2>

            <h3>הקדמה</h3>
            <p class="placeholder">(טרם נכתב)</p>

            <h3>הקבצים הרלוונטיים לצורך</h3>
            <p class="placeholder">—</p>

            <h3>קבצים נוספים אפשריים (לא סופקו במלואם)</h3>
            <p class="placeholder">—</p>

            <h3>תרחישים כוללים בעמוד</h3>
            <p class="placeholder">—</p>

            <h3>קבצים שנבדקו לצורך</h3>
            <p class="placeholder">—</p>

            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3>
            <p class="placeholder">—</p>

            <h3>סיכום</h3>
            <p class="placeholder">—</p>
        </div>

        <!-- PAGE 3 -->
        <div id="page3" class="anchor-target">
            <h2 class="page-title">3. הצטרפות לסליקה דרך המערכת (cc)</h2>
            <!-- Same structure, placeholder -->
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים (לא סופקו במלואם)</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <!-- PAGE 4 -->
        <div id="page4" class="anchor-target">
            <h2 class="page-title">4. פירוט עסקאות (yaadTrans)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים (לא סופקו במלואם)</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <!-- PAGE 5: GIFT CARDS (FULL CONTENT) -->
        <div id="page5" class="anchor-target">
            <h2 class="page-title">5. ניהול גיפטקארד (giftcards)</h2>

            <!-- הקדמה -->
            <h3>הקדמה</h3>
            <p>
                לאחר ההקדמה הכללית לעמודי המערכת ולמבנה התפריט, נרצה להתחיל בהסבר מפורט
                על אחד העמודים – עמוד ה־GiftCard. עמוד זה ממוקם בתפריט הראשי תחת הכיתוב
                “ניהול גיפטקארד” (או מופיע רק אם <code>userType=0 / gc=1</code>), וממומש ב־
                <code>giftcards.php</code> (או <code>giftcards-log2.php</code> למשתמש-על).
            </p>
            <p>
                כאן נסביר את פעילות עמוד ה־GiftCard, לרבות התרחישים והתהליכים השונים.
            </p>

            <!-- הקבצים הרלוונטיים לצורך -->
            <h3>הקבצים הרלוונטיים לצורך</h3>
            <ul>
                <li><code>giftcards.php</code> – עמוד ראשי להצגה/עריכה של גיפטקארדים.</li>
                <li><code>giftcards.js</code> – רוב הפונקציות ל־CRUD, העלאת תמונות, פופ-אפים וכו’.</li>
                <li><code>ajax_load_giftcard.php</code> – CRUD בסיסי (<code>act=0/1/2/3/4</code>).</li>
                <li><code>ajax_giftcards_setting.php</code> – ניהול הגדרות גלובליות (טבלת <code>giftCardsSetting</code>).</li>
                <li><code>ajax_pop_gift.php</code> – מחזיר HTML של שובר (Pop-up) עם נתוני רכישה ומימושים.</li>
                <li><code>ajax_giftcards.php</code> – פעולות מתקדמות: מימוש, ביטול, זיכוי.</li>
                <li><code>ajax_sendEmail.php</code>, <code>ajax_sendSMS.php</code> (כלליים, לא מופיעים בהרחבה).</li>
            </ul>

            <!-- קבצים נוספים אפשריים (לא סופקו במלואם) -->
            <h3>קבצים נוספים אפשריים (לא סופקו במלואם)</h3>
            <ul>
                <li><code>Terminal.php</code>, <code>Transaction.php</code>, <code>CardComGeneral.php</code> (לסליקה/זיכויים).</li>
                <li><code>download_invoice_gc.php</code> (חשבוניות).</li>
                <li><code>picUpload.php</code> (להעלאת תמונות).</li>
            </ul>

            <!-- תרחישים כוללים בעמוד -->
            <h3>תרחישים כוללים בעמוד GiftCards</h3>
            <ol>
                <li>כניסה לעמוד וצפייה ברשימה</li>
                <li>בחירת אתר (Site) והצגת/הסתרת גיפטקארדים</li>
                <li>יצירת גיפטקארד חדש (הוספה)</li>
                <li>עריכת גיפטקארד קיים</li>
                <li>מחיקת גיפטקארד</li>
                <li>הפעלה/השבתה (Activate/Deactivate)</li>
                <li>ניהול הגדרות גלובליות (Global Gift Cards Settings)</li>
                <li>צפייה בעמוד החיצוני (Preview)</li>
                <li>שליחת קישור ללקוח (“שליחה ללקוח”)</li>
                <li>צפייה בשובר/פרטי רכישה ומימושים (Pop-up) + מימוש / ביטול מימוש / זיכוי</li>
            </ol>

            <!-- כולל טבלאות עבור כל תרחיש -->
            <h3>טבלאות תרחישים</h3>

            <h4>תרחיש 1: כניסה לעמוד וצפייה ראשונית ברשימת הגיפטקארדים</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1.1</td>
                    <td>המשתמש, לאחר שהתחבר, מנווט ל־ <code>/user/pages/giftcards.php</code>.</td>
                    <td>
                        1. בקבצים הבסיסיים (<code>auth.php</code>, <code>partials/menu.php</code>) כבר בוצע אימות והרשאות.<br>
                        2. <code>giftcards.php</code> נטען, קורא ל־JS <code>giftcards.js</code>.
                    </td>
                </tr>
                <tr>
                    <td>1.2</td>
                    <td>רואה כותרת “ניהול גיפטקארד”.</td>
                    <td>
                        1. <code>giftcards.php</code> מדפיס
                        <code>&lt;section class="giftcards"&gt; ...</code> ו־
                        <code>&lt;div class="title"&gt;ניהול גיפטקארד&lt;/div&gt;</code>.<br>
                        2. מה־PHP מתבצעת שאילתת SELECT לטבלת <code>giftCards</code> (אם siteID קיים).
                    </td>
                </tr>
                <tr>
                    <td>1.3</td>
                    <td>רואה רשימת גיפטקארדים (אם קיימים).</td>
                    <td>
                        1. לכל <code>&lt;div class="giftcard"&gt;</code> מוצגים הפרטים (<em>title</em>, <em>sum</em> וכו’).<br>
                        2. מוצג אייקון עריכה, מחיקה, וכפתור Activate/Deactivate.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 2 -->
            <h4>תרחיש 2: בחירת אתר (Site) והצגת/הסתרת גיפטקארדים</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>2.1</td>
                    <td>אם יש אתרים מרובים, המשתמש בוחר אתר מרשימה (Select).</td>
                    <td>
                        1. <code>giftcards.js</code> (פונקציה <code>bindListElements()</code>)
                        מאזינה ל־<code>$("#sid").change(...)</code>.<br>
                        2. בעת בחירה, JS מסנן את הגיפטקארדים ב־DOM לפי SiteID.
                    </td>
                </tr>
                <tr>
                    <td>2.2</td>
                    <td>רואה שגיפטקארדים של אתרים אחרים “נעלמים”.</td>
                    <td>
                        1. בהחלפת ה־SiteID, מעדכן <code>$("#guid").val(...)</code>.<br>
                        2. כפתורים כמו “הוסף חדש”, “הגדרות תצוגת עמוד” פעילים רק אם <code>siteID != 0</code>.
                    </td>
                </tr>
                <tr>
                    <td>2.3</td>
                    <td>יכול לעבור בין אתרים שונים ולראות לכל אתר את הגיפטקארדים שלו.</td>
                    <td>
                        1. לא נעשית קריאת AJAX חדשה בשלב זה; לרוב רק סינון בצד לקוח.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 3 -->
            <h4>תרחיש 3: יצירת גיפטקארד חדש (הוספה)</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>3.1</td>
                    <td>
                        לוחץ “הוסף חדש” (כפתור
                        <code>&lt;div class="add-new" onclick="loadGiftCardData(0)"&gt;</code>).
                    </td>
                    <td>
                        1. <code>loadGiftCardData(0)</code> (ב־<code>giftcards.js</code>)
                        מופעלת; <code>0 = אין ID</code> ⇒ יצירת חדש.
                    </td>
                </tr>
                <tr>
                    <td>3.2</td>
                    <td>נפתח פופאפ עם טופס ריק לעריכת גיפטקארד.</td>
                    <td>
                        1. אם <code>gid=0</code>, הפונקציה מאפסת את הטופס, לא שולחת GET.<br>
                        2. מציגה <code>&lt;div class="giftpop order"&gt;...</code>.
                    </td>
                </tr>
                <tr>
                    <td>3.3</td>
                    <td>ממלא שדות (כותרת, סכום, ימים וכו’), לוחץ “שמור”.</td>
                    <td>
                        1. <code>$("#giftCardForm").submit()</code> → <code>submitGiftCardForm(e,this)</code>.<br>
                        2. JS בונה <code>FormData</code> עם כל השדות.
                    </td>
                </tr>
                <tr>
                    <td>3.4</td>
                    <td>הטופס נשלח ב־AJAX ל־ <code>ajax_load_giftcard.php?act=1</code>.</td>
                    <td>
                        1. <code>case=1</code>: אם <code>giftCardID==0</code> ⇒ <strong>INSERT</strong> לטבלת <code>giftCards</code>.<br>
                        2. מעלה תמונה אם יש (<code>picpic</code>).
                    </td>
                </tr>
                <tr>
                    <td>3.5</td>
                    <td>רואה alert שההוספה בוצעה, העמוד נטען מחדש.</td>
                    <td>
                        1. אם <code>response.success==true</code> ⇒ <code>window.location.reload()</code>.
                    </td>
                </tr>
                <tr>
                    <td>3.6</td>
                    <td>הגיפטקארד החדש מופיע ברשימה.</td>
                    <td>
                        1. <code>giftcards.php</code> בטעינה הבאה מציג את הרשומה החדשה.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 4 -->
            <h4>תרחיש 4: עריכת גיפטקארד קיים</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>4.1</td>
                    <td>
                        לוחץ על עיפרון
                        (<code>class="edit" data-id="..."</code>).
                    </td>
                    <td>
                        1. <code>$(".giftcard .edit").on("click",...)</code>
                        → <code>loadGiftCardData(id)</code>.
                    </td>
                </tr>
                <tr>
                    <td>4.2</td>
                    <td>קופץ פופאפ עם טופס והשדות מלאים.</td>
                    <td>
                        1. <code>loadGiftCardData(id)</code> שולח GET ל־
                        <code>ajax_load_giftcard.php?act=0&amp;id=&lt;gid&gt;</code>.<br>
                        2. <code>case=0</code> ב־PHP: מוצא <code>giftCardID</code> ומחזיר JSON (title, desc...).
                    </td>
                </tr>
                <tr>
                    <td>4.3</td>
                    <td>עורך (מחליף שם, סכום...).</td>
                    <td>
                        1. בשלב זה הנתונים רק ב־DOM, נשמרים ב־DB רק אחרי “שמור”.
                    </td>
                </tr>
                <tr>
                    <td>4.4</td>
                    <td>לוחץ “שמור”.</td>
                    <td>
                        1. <code>submitGiftCardForm()</code> שולח ל־
                        <code>ajax_load_giftcard.php?act=1</code> עם
                        <code>giftCardID!=0</code> ⇒ <strong>UPDATE giftCards</strong>.
                    </td>
                </tr>
                <tr>
                    <td>4.5</td>
                    <td>רואה התראה שהעריכה נשמרה.</td>
                    <td>
                        1. בתשובה –
                        <code>response.success==true</code> ⇒ <code>window.location.reload()</code>.
                    </td>
                </tr>
                <tr>
                    <td>4.6</td>
                    <td>הרשימה מתעדכנת בנתונים החדשים.</td>
                    <td>
                        1. בטעינה מחדש, <code>giftcards.php</code> מציג את הערכים המעודכנים.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 5 -->
            <h4>תרחיש 5: מחיקת גיפטקארד</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>5.1</td>
                    <td>לוחץ על אייקון “פח” (Remove).</td>
                    <td>
                        1. <code>delete_gift(giftCardID)</code>.
                    </td>
                </tr>
                <tr>
                    <td>5.2</td>
                    <td>Pop-up אישור (Swal “האם אתה בטוח?”).</td>
                    <td>
                        1. אם מאשרים, שולחים GET ל־
                        <code>ajax_load_giftcard.php?act=3&amp;id=&lt;giftCardID&gt;</code>.
                    </td>
                </tr>
                <tr>
                    <td>5.3</td>
                    <td>ב־Back-End – מפעיל <code>deleted=1</code>.</td>
                    <td>
                        1. <code>udb::query("update giftCards set deleted=1 where giftCardID=...")</code>.
                    </td>
                </tr>
                <tr>
                    <td>5.4</td>
                    <td>הגיפטקארד נעלם מהעמוד.</td>
                    <td>
                        1. בצד הלקוח: <code>$("#giftcard" + giftID).remove()</code>.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 6 -->
            <h4>תרחיש 6: הפעלה/השבתה (Activate/Deactivate)</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>6.1</td>
                    <td>יש checkbox “פעיל”.</td>
                    <td>
                        1. בכל <code>&lt;div class="active"&gt;</code>
                        יש <code>onchange=activeDeActive(giftCardID)</code>.
                    </td>
                </tr>
                <tr>
                    <td>6.2</td>
                    <td>לוחץ, מחליף בין On ↔ Off.</td>
                    <td>
                        1. <code>activeDeActive(id)</code> שולח GET
                        <code>ajax_load_giftcard.php?act=2&amp;id=...</code>.
                    </td>
                </tr>
                <tr>
                    <td>6.3</td>
                    <td>ב־Back-End מעדכן <code>active = not active</code>.</td>
                    <td>
                        1. <code>case=2</code>:
                        <code>update giftCards set active = not active where giftCardID=...</code>.
                    </td>
                </tr>
                <tr>
                    <td>6.4</td>
                    <td>רואה ב־UI שהסטטוס השתנה.</td>
                    <td>
                        1. אין רענון עמוד, רק שינוי ב־<code>checkbox</code> צד לקוח.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 7 -->
            <h4>תרחיש 7: ניהול הגדרות גלובליות (Global Gift Cards Settings)</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>7.1</td>
                    <td>לוחץ “הגדרות תצוגת עמוד” (<code>&lt;div class="page-options"&gt;</code>).</td>
                    <td>
                        1. <code>loadGeneralForm()</code> שולח GET
                        <code>ajax_giftcards_setting.php?act=1&amp;siteID2=...</code>.
                    </td>
                </tr>
                <tr>
                    <td>7.2</td>
                    <td>נפתח Pop-up עם טופס הגדרות (לוגו, רקע...).</td>
                    <td>
                        1. אם יש נתונים ב־DB, נטענים. אם לא, הטופס ריק.
                    </td>
                </tr>
                <tr>
                    <td>7.3</td>
                    <td>מעדכן ערכים (טקסט, Meta, תמונות), לוחץ “שמור”.</td>
                    <td>
                        1. <code>$("#globaloptionsForm").submit()</code> →
                        <code>submitGeneralForm(e, this)</code> → שולח <code>?act=0</code> + קבצים להעלאה.
                    </td>
                </tr>
                <tr>
                    <td>7.4</td>
                    <td>הקוד מעדכן/מוסיף רשומה <code>giftCardsSetting</code>.</td>
                    <td>
                        1. אם <code>settingID</code> קיים → <strong>UPDATE</strong>, אחרת <strong>INSERT</strong>.
                    </td>
                </tr>
                <tr>
                    <td>7.5</td>
                    <td>החלון נסגר והמסך נטען מחדש.</td>
                    <td>
                        1. <code>response.success==true</code> ⇒ <code>window.location.reload()</code>.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 8 -->
            <h4>תרחיש 8: צפייה בעמוד החיצוני (Preview) של הגיפטקארד</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>8.1</td>
                    <td>
                        לוחץ על
                        <code>
                            &lt;a class="link send_btn" href="http://www.vouchers.co.il/g.php?guid=..." ...&gt;
                        </code>.
                    </td>
                    <td>
                        1. לינק חיצוני לפורטל <em>vouchers.co.il</em>, לפי <code>sites.guid</code>.
                    </td>
                </tr>
                <tr>
                    <td>8.2</td>
                    <td>נפתח חלון חדש עם הכתובת <code>http://www.vouchers.co.il/g.php?guid=XXXX</code>.</td>
                    <td>
                        1. אין קוד נוסף בפרויקט שלנו (הכול ב־<em>vouchers.co.il</em>).
                    </td>
                </tr>
                <tr>
                    <td>8.3</td>
                    <td>רואה את כל הגיפטקארדים כפי שנראים ללקוח.</td>
                    <td>
                        1. טעינה מבוססת <code>guid</code> בצד <em>vouchers.co.il</em>.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 9 -->
            <h4>תרחיש 9: שליחת קישור ללקוח (“שליחה ללקוח”)</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>9.1</td>
                    <td>
                        לוחץ על
                        <code>&lt;div class="plusSend" data-title="שליחת גיפט קארד"...&gt;</code>.
                    </td>
                    <td>
                        1. שומר <code>data-msg="http://www.vouchers.co.il/g.php?guid=..."</code>
                        ל־share, או למייל.
                    </td>
                </tr>
                <tr>
                    <td>9.2</td>
                    <td>
                        לעיתים נפתח חלון להזנת נמען/הודעה, או שליחה בווטסאפ/מייל.
                    </td>
                    <td>
                        1. בפועל, תלוי מימוש. חלק מהקוד מצביע על <code>whatsappBuild()</code>
                        או <code>ajax_sendEmail</code> וכו’.
                    </td>
                </tr>
                <tr>
                    <td>9.3</td>
                    <td>הלקוח מקבל את הקישור ...</td>
                    <td>
                        1. לא מפורט בקובץ, רק ידוע שזה מפעיל <code>sendEmail/sendSMS</code>.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 10 -->
            <h4>תרחיש 10: צפייה בשובר/פרטי רכישה ומימושים (Pop-up) + מימוש / ביטול מימוש / זיכוי</h4>
            <p>
                (זה תרחיש מורכב המחולק לתת־תרחישים
                <strong>10.1, 10.2, 10.3, 10.4</strong>.)
            </p>

            <!-- תרחיש 10.1 -->
            <h5>10.1 צפייה בחלונית Pop-up של שובר</h5>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>10.1.1</td>
                    <td>
                        לוחץ על פעולה להצגת השובר, למשל
                        <code>showPOP(pID, 0)</code>.
                    </td>
                    <td>
                        1. קריאה
                        <code>$.get("ajax_pop_gift.php?gID="+pID, ...)</code>.<br>
                        2. מחזירה HTML עם פרטי השובר.
                    </td>
                </tr>
                <tr>
                    <td>10.1.2</td>
                    <td>נפתח Pop-up עם פרטי שובר (שם המזמין, סכום, תוקף...).</td>
                    <td>
                        1. <code>ajax_pop_gift.php</code> עושה JOIN בין
                        <code>gifts_purchases</code> ל־<code>giftCards</code>,
                        בודק שימושים <code>giftCardsUsage</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.1.3</td>
                    <td>רואה בטבלה היסטוריית מימושים והסכום שנותר.</td>
                    <td>
                        1. SELECT על <code>giftCardsUsage</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.1.4</td>
                    <td>
                        רואה כפתורי “מימוש חלקי” / “מלא” (אם נשאר יתרה).
                    </td>
                    <td>
                        1.
                        <code>&lt;div class="part" onclick="mimushPop(1)"&gt;</code>
                        וכו’.
                    </td>
                </tr>
                <tr>
                    <td>10.1.5</td>
                    <td>אם הושלם רכישה direct ללא מימוש קודם, מוצג כפתור “זיכוי”.</td>
                    <td>
                        1. תנאי <code>isDirect + useageSum=0</code>
                        ⇒ מציג <code>&lt;div class="full refund"&gt;...</code>.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 10.2 -->
            <h5>10.2 מימוש חלקי או מלא</h5>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>10.2.1</td>
                    <td>לוחץ על “למימוש חלקי” או “מימוש מלא”.</td>
                    <td>
                        1. <code>mimushPop(1)</code> / <code>mimushPop(2)</code>
                        פותח
                        <code>&lt;div class="giftcard gift-pop mimush"&gt;#mimushShovar</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.2.2</td>
                    <td>אם חלקי, מזין <code>&lt;input id="sumToUse"&gt;</code>. אם מלא, ממלא אוטומטית.</td>
                    <td>
                        1. אין שינוי ב־DB עד ל”אישור מימוש”.
                    </td>
                </tr>
                <tr>
                    <td>10.2.3</td>
                    <td>לוחץ “מימוש”.</td>
                    <td>
                        1. POST ל־
                        <code>ajax_giftcards.php?act=use&amp;pID=...&amp;sumToUse=...</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.2.4</td>
                    <td>
                        ב־PHP: <code>case='use'</code>
                        → מוסיף רשומה ל־<code>giftCardsUsage</code>, בודק שאין חריגה מהסכום.
                    </td>
                    <td>
                        1. <code>update/insert giftCardsUsage</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.2.5</td>
                    <td>המשתמש רואה הודעה “המימוש הצליח”.</td>
                    <td>
                        1. JS מציג <em>sweetalert</em> success, ואז סוגר pop-up / טוען מחדש.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 10.3 -->
            <h5>10.3 ביטול מימוש</h5>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>10.3.1</td>
                    <td>רואה בשורת המימוש כפתור “ביטול מימוש” אם <code>cancellable=1</code>.</td>
                    <td>
                        1.
                        <code>&lt;div class="del-btn" onclick="deleteUsage(useID, ...)"&gt;</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.3.2</td>
                    <td>לוחץ, מופיע אישור → קורא <code>deleteUsage(useID, pID, code)</code>.</td>
                    <td>
                        1. שולח POST
                        <code>ajax_giftcards.php?act=deleteUsage&amp;pid=...&amp;uid=...</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.3.3</td>
                    <td>ב־PHP, <code>case='deleteUsage'</code>: מוחק את הרשומה מ־<code>giftCardsUsage</code>.</td>
                    <td>
                        1. <code>udb::query("delete from giftCardsUsage where useID=... and cancellable=1...")</code>
                        או update (מימוש לוגי).
                    </td>
                </tr>
                <tr>
                    <td>10.3.4</td>
                    <td>השורה מוסרת ברשימת המימושים.</td>
                    <td>
                        1. JS מעדכן את הטבלה/מרענן את ה־Pop-up.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- תרחיש 10.4 -->
            <h5>10.4 זיכוי (Refund)</h5>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>10.4.1</td>
                    <td>לוחץ “זיכוי” (refund) בתוך ה־Pop-up.</td>
                    <td>
                        1. <code>askGCRefund(pID, this)</code>, שולח POST ל־
                        <code>ajax_giftcards.php?act=refundDirect&amp;pID=...</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.4.2</td>
                    <td>
                        ב־PHP, <code>case='refundDirect'</code>: בודק אם <code>pID=עסקה direct ללא שימוש</code>.
                    </td>
                    <td>
                        1. אם אין שימוש, מפעיל <code>CardComGeneral-&gt;payRefund(...)</code>.<br>
                        2. אם הצליח, מעדכן <code>purchases.refunded=...</code>.
                    </td>
                </tr>
                <tr>
                    <td>10.4.3</td>
                    <td>אם הצליח, מופיעה הודעת “בוצע זיכוי בהצלחה”.</td>
                    <td>
                        1. אחרת, מציג שגיאה, אולי מוחק רשומה זמנית.
                    </td>
                </tr>
                <tr>
                    <td>10.4.4</td>
                    <td>הגיפטקארד הופך למעשה ללא שווי, כי הלקוח קיבל החזר מלא.</td>
                    <td>
                        1. המשתמש רואה <code>status='refunded'</code>.
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- קבצים שנבדקו לצורך GiftCards -->
            <h3>קבצים שנבדקו לצורך GiftCards</h3>
            <ul>
                <li><code>/user/pages/giftcards.php</code> – עמוד ראשי להצגה/עריכה של גיפטקארדים.</li>
                <li><code>/user/assets/js/giftcards.js</code> – רוב הפונקציות ל־CRUD, העלאת תמונות, פופ-אפים וכו’.</li>
                <li><code>/user/ajax_load_giftcard.php</code> – CRUD בסיסי (<code>act=0/1/2/3/4</code>).</li>
                <li><code>/user/ajax_giftcards_setting.php</code> – ניהול הגדרות גלובליות (טבלה <code>giftCardsSetting</code>).</li>
                <li><code>/user/ajax_pop_gift.php</code> – מחזיר HTML של שובר (Pop-up) עם נתוני רכישה ומימושים.</li>
                <li><code>/user/ajax_giftcards.php</code> – פעולות מתקדמות: מימוש, ביטול, זיכוי.</li>
                <li><code>ajax_sendEmail.php</code>, <code>ajax_sendSMS.php</code> (כלליים, לא מופיעים בהרחבה).</li>
            </ul>

            <!-- קבצים חסרים להשלמת חלק מהתרחישים -->
            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3>
            <ul>
                <li><code>Terminal.php</code>, <code>Transaction.php</code>, <code>CardComGeneral.php</code> (לסליקה/זיכויים)</li>
                <li><code>download_invoice_gc.php</code> (חשבוניות)</li>
                <li><code>picUpload.php</code> (להעלאת תמונות)</li>
            </ul>

            <!-- סיכום (GiftCards) -->
            <h3>סיכום (GiftCards)</h3>
            <ul>
                <li>עברנו על מבנה המערכת והתפריט (<code>partials/menu.php</code>), כיצד <code>page=?</code> מפנה לקבצי PHP, ובאילו תנאים מוצג כל פריט.</li>
                <li>יישמנו דוגמה מפורטת בעמוד GiftCards (<code>giftcards.php</code>) עם תרחישים מגוונים – יצירה, עריכה, מימוש ושוברים.</li>
                <li>קיימים עמודים נוספים שאינם מוצגים בתפריט, אך נמצאים בקוד (ראו רשימה נפרדת).</li>
                <li>קבצי קוד בסיסיים (<code>auth.php</code>, <code>functions.php</code> ועוד) מספקים את תשתית ההרשאות, הניווט והפונקציות העזר.</li>
            </ul>
        </div>

        <!-- PAGE 6: SUBSCRIPTIONS (FULL CONTENT) -->
        <div id="page6" class="anchor-target">
            <h2 class="page-title">6. ניהול מנויים (subscriptions)</h2>

            <!-- הקדמה -->
            <h3>הקדמה</h3>
            <p>
                לאחר ההקדמה הכללית לעמודי המערכת, נעמיק בעמוד “ניהול מנויים” (subscriptions).<br>
                עמוד זה מופיע בתפריט הראשי תחת הפריט <code>page="subscriptions"</code> (או רק אם הפונקציונליות זמינה באתר),
                וממומש בקובץ <code>subscriptions.php</code>.<br>
                משתמשים בעלי הרשאות מתאימות (למשל <code>userType=0</code>) יכולים להיכנס לעמוד המנויים, לצפות במנויים קיימים,
                לערוך, להוסיף תשלומים ולנהל טיפולים הכלולים במנוי (תלוי בסוג האתר).
            </p>

            <!-- הקבצים הרלוונטיים לצורך Subscriptions -->
            <h3>הקבצים הרלוונטיים לצורך Subscriptions</h3>
            <ul>
                <li><code>subscriptions.php</code> – העמוד המרכזי המציג טבלה של מנויים, טופס חיפוש, כפתור “הוסף חדש” וכו’.</li>
                <li><code>giftcards.js</code> – יש בו פונקציות כגון <code>findSubscription()</code>, וייתכן אזכורים ל־<code>openSubscription()</code>.</li>
                <li><code>ajax_subscription.php</code> – מטפל בפעולות CRUD והחיפוש (<code>act=...</code>)</li>
            </ul>

            <!-- קבצים נוספים אפשריים (לא סופקו במלואם) -->
            <h3>קבצים נוספים אפשריים (לא סופקו במלואם)</h3>
            <ul>
                <li><code>ajax_client.php</code> (אוטו־השלמה ללקוח/עיר)</li>
                <li><code>SumBalancer.js</code> (חישוב סכומים בטופס המנוי)</li>
                <li><code>ajax_spaSMS.php</code> (שליחת הודעות SMS למנוי)</li>
                <li><code>UserUtilsNew.php</code> (מקורות הגעה, קופונים)</li>
            </ul>

            <!-- תרחישים כוללים בעמוד -->
            <h3>תרחישים כוללים בעמוד Subscriptions</h3>
            <ol>
                <li>כניסה לעמוד וצפייה ברשימה</li>
                <li>חיפוש מנוי מהיר (fast-find)</li>
                <li>יצירת מנוי חדש</li>
                <li>עריכת מנוי קיים</li>
                <li>הוספת טיפולים למנוי</li>
                <li>עדכון/צפייה בתשלומים</li>
                <li>שמירת מנוי (Save)</li>
                <li>פעולות נוספות (מחיקת מנוי, ביטול/השהייה)</li>
            </ol>

            <!-- טבלאות תרחישים (Subscriptions) -->
            <h3>טבלאות תרחישים</h3>

            <h4>תרחיש 1: כניסה לעמוד וצפייה ברשימה</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>1.1</td>
                    <td>המשתמש מנווט ל־<code>?page=subscriptions</code>.</td>
                    <td>
                        1. אימות והרשאות (<code>auth.php</code> / <code>partials/menu.php</code>).<br>
                        2. <code>subscriptions.php</code> נטען.
                    </td>
                </tr>
                <tr>
                    <td>1.2</td>
                    <td>רואה כותרת “ניהול מנויים” + טופס חיפוש.</td>
                    <td>
                        1. <code>subscriptions.php</code> מציג
                        <code>&lt;div class="title"&gt;ניהול מנויים&lt;/div&gt;</code>.<br>
                        2. מייצר SELECT/טבלת מנויים.
                    </td>
                </tr>
                <tr>
                    <td>1.3</td>
                    <td>רואה טבלה של מנויים (מספר מנוי, שם לקוח...).</td>
                    <td>
                        1. ב-PHP מורכבת שאילתת SELECT מ־tables
                        <code>subscriptions</code>, <code>subscriptionTreatments</code>,
                        <code>subscriptionPayments</code>.<br>
                        2. מוצגים סכומים וסטטוס (active וכו’).
                    </td>
                </tr>
                </tbody>
            </table>

            <h4>תרחיש 2: חיפוש מנוי מהיר (fast-find)</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>2.1</td>
                    <td>ממלא בשדה “איתור מנוי מהיר” (<code>input#giftnum</code>) את מספר המנוי, לוחץ חיפוש (אייקון).</td>
                    <td>
                        1. <code>findSubscription()</code> ב־<code>giftcards.js</code> מופעל.
                    </td>
                </tr>
                <tr>
                    <td>2.2</td>
                    <td>ממתין לתוצאה.</td>
                    <td>
                        1. <code>findSubscription()</code> שולח בקשת AJAX ל־<code>ajax_subscription.php</code>
                        עם <code>act='findSubs'</code> ו־<code>snum=&lt;מספר מנוי&gt;</code>.<br>
                        2. <code>case 'findSubs'</code>: מחפשים <code>subID</code>.
                    </td>
                </tr>
                <tr>
                    <td>2.3</td>
                    <td>אם נמצא מנוי, נפתח חלון/פופ־אפ עריכה.</td>
                    <td>
                        1. התשובה JSON כוללת <code>subID</code>.<br>
                        2. <code>if (res.subID) openSubscription({ subID: res.subID });</code>
                    </td>
                </tr>
                </tbody>
            </table>

            <h4>תרחיש 3: יצירת מנוי חדש</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>3.1</td>
                    <td>לוחץ על “הוסף חדש” (<code>&lt;div class="add-new" onclick="openSubscription()"&gt;</code>).</td>
                    <td>
                        1. טריגר JS: ייתכן <code>openSubscription({})</code> או <code>loadSub(0)</code>.<br>
                        2. אפשרי: קריאה ל־<code>ajax_subscription.php?act=loadSub&amp;subID=0</code>.
                    </td>
                </tr>
                <tr>
                    <td>3.2</td>
                    <td>נפתח פופ־אפ / עמוד פנימי עם טופס ריק להוספת מנוי.</td>
                    <td>
                        1. <code>ajax_subscription.php (case='loadSub')</code> מחזיר HTML של הטופס.<br>
                        2. השדות: שם לקוח, טלפון, מחיר, הנחה, וכו’.
                    </td>
                </tr>
                <tr>
                    <td>3.3</td>
                    <td>ממלא פרטי מנוי ולוחץ “שמור מנוי”.</td>
                    <td>
                        1. הטופס נשלח AJAX ל־<code>ajax_subscription.php?act=saveSubs</code>.
                    </td>
                </tr>
                <tr>
                    <td>3.4</td>
                    <td>מקבל הודעת “נשמר בהצלחה”.</td>
                    <td>
                        1. ב־<code>saveSubs</code> → <strong>INSERT</strong> לטבלת <code>subscriptions</code>.<br>
                        2. מגדירים <code>subNumber</code> (רנדומי), <code>active</code> וכו’.
                    </td>
                </tr>
                <tr>
                    <td>3.5</td>
                    <td>רואה את המנוי החדש בטבלה המרכזית.</td>
                    <td>
                        1. אם <code>response.success==true</code> → <code>window.location.reload()</code> מציג את הרשומה החדשה.
                    </td>
                </tr>
                </tbody>
            </table>

            <h4>תרחיש 4: עריכת מנוי קיים</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>4.1</td>
                    <td>לוחץ על שורת מנוי בטבלה (<code>onclick="openSubscription({subID:...})"</code>).</td>
                    <td>
                        1. מפעיל JS הקורא <code>ajax_subscription.php?act=loadSub&amp;subID=XXX</code>.
                    </td>
                </tr>
                <tr>
                    <td>4.2</td>
                    <td>נפתח פופ־אפ עריכה, והשדות מלאים בפרטי המנוי.</td>
                    <td>
                        1. ב־PHP: <code>loadSub</code> קורא <code>subscriptions</code> + <code>subscriptionTreatments</code>,
                        מחבר HTML. מחזיר כ־JSON (<code>result['html']</code>).
                    </td>
                </tr>
                <tr>
                    <td>4.3</td>
                    <td>עורך פרטים (מחיר, סטטוס פעיל וכו’).</td>
                    <td>
                        1. בשלב זה רק בצד הלקוח (DOM).
                    </td>
                </tr>
                <tr>
                    <td>4.4</td>
                    <td>לוחץ “שמור מנוי”.</td>
                    <td>
                        1. שולח AJAX ל־<code>ajax_subscription.php?act=saveSubs</code> עם <code>subID</code> קיים → <strong>UPDATE</strong> ב־DB.
                    </td>
                </tr>
                <tr>
                    <td>4.5</td>
                    <td>מקבל “נשמר בהצלחה” וריענון.</td>
                    <td>
                        1. <code>if response.status == 0</code> (success) → מנוי מתעדכן ב־DB,
                        נסגר פופ-אפ או <code>reload()</code>.
                    </td>
                </tr>
                </tbody>
            </table>

            <h4>תרחיש 5: הוספת טיפולים למנוי</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>5.1</td>
                    <td>בפופ־אפ העריכה יש “הוספת טיפולים” (<code>&lt;div id="add_treat" ...&gt;</code>).</td>
                    <td>
                        1. לחיצה → נפתח חלון (למשל <code>div#subsAddTreats</code>) להוספת טיפולים.
                    </td>
                </tr>
                <tr>
                    <td>5.2</td>
                    <td>ממלא “סוג טיפול”, “משך”, “כמות”... לוחץ “הוסף”.</td>
                    <td>
                        1. JS בונה אובייקט טיפול (<em>trid / duration / price...</em>) ומוסיף לרשימה (DOM).
                    </td>
                </tr>
                <tr>
                    <td>5.3</td>
                    <td>רואה את הטיפול החדש ברשימה (טרם נשמר ב־DB).</td>
                    <td>
                        1. רק לאחר “שמור מנוי” (תרחיש 7) יבוצע <strong>INSERT</strong> ל־<code>subscriptionTreatments</code>.
                    </td>
                </tr>
                </tbody>
            </table>

            <h4>תרחיש 6: עדכון/צפייה בתשלומים</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>6.1</td>
                    <td>רואה בטבלה סכום ששולם (אם קטן מהמחיר בניכוי הנחה, אדום).</td>
                    <td>
                        1. ב־<code>subscriptions.php</code> מחושב <code>$payed</code> מטבלת
                        <code>subscriptionPayments</code>.<br>
                        2. אם <code>$payed &lt; price - discount</code> → אדום.
                    </td>
                </tr>
                <tr>
                    <td>6.2</td>
                    <td>
                        יכול ללחוץ על כפתור / אייקון תשלום
                        (למשל <code>&lt;span class="orderPrice new"&gt;</code>).
                    </td>
                    <td>
                        1. כנראה מפעיל <code>openPayAfterSaveSubs(...)</code> או פופ-אפ תשלום.
                    </td>
                </tr>
                <tr>
                    <td>6.3</td>
                    <td>משתמש משלים תשלום \ יוצא.</td>
                    <td>
                        1. הפעולה עצמה כנראה בקובץ <code>ajax_pay_subscription.php</code> (לא סופק), שמחייב \ מעדכן.
                    </td>
                </tr>
                </tbody>
            </table>

            <h4>תרחיש 7: שמירת מנוי (Save)</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>7.1</td>
                    <td>בפופ־אפ עריכה/יצירה, לוחץ “שמור מנוי”.</td>
                    <td>
                        1. JS אוסף שדות (<em>clientName, phone, treatments...</em>)<br>
                        2. שולח אותם ב־POST ל־<code>ajax_subscription.php?act=saveSubs</code>.
                    </td>
                </tr>
                <tr>
                    <td>7.2</td>
                    <td>ממתין להודעת “נשמר בהצלחה”.</td>
                    <td>
                        1. <code>case='saveSubs'</code>: אם <code>subID=0</code> → <strong>INSERT</strong>; אם קיים → <strong>UPDATE</strong>.<br>
                        2. שומר טיפולים (<code>trin[]</code>) ב־<code>subscriptionTreatments</code>.
                    </td>
                </tr>
                <tr>
                    <td>7.3</td>
                    <td>רואה הודעת הצלחה, והמסך מתעדכן (סגירה \ reload).</td>
                    <td>
                        1. <code>result['status'] = 0;</code> → <code>window.location.reload()</code>
                        מציג נתונים עדכניים.
                    </td>
                </tr>
                </tbody>
            </table>

            <h4>תרחיש 8: פעולות נוספות (מחיקת מנוי, ביטול/השהייה)</h4>
            <table>
                <thead>
                <tr>
                    <th>שלב</th>
                    <th>צד המשתמש</th>
                    <th>צד הקוד (מה קורה)</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>8.1</td>
                    <td>לעיתים יש כפתור/אייקון מחיקה, או checkbox “פעיל”.</td>
                    <td>
                        1. אם “subActive” = 0 → ב־<code>saveSubs</code> קובע <code>active=0</code> במנוי.
                    </td>
                </tr>
                <tr>
                    <td>8.2</td>
                    <td>מאשר “האם לבטל/להשבית מנוי?”</td>
                    <td>
                        1. עלול להיות <code>ajax_subscription.php?act=deleteSub</code>
                        (לא נצפה בקוד הנוכחי, אך הגיוני).
                    </td>
                </tr>
                <tr>
                    <td>8.3</td>
                    <td>המנוי מוסר/ מסומן כ־<code>deleted=1</code> (או “לא פעיל”).</td>
                    <td>
                        1. לא הוצג במפורש בקוד, אך דומה למחיקת גיפטקארד (<code>deleted=1</code>).
                    </td>
                </tr>
                </tbody>
            </table>

            <!-- קבצים שנבדקו לצורך Subscriptions -->
            <h3>קבצים שנבדקו לצורך Subscriptions</h3>
            <ul>
                <li><code>subscriptions.php</code> – עמוד ראשי (טבלה + חיפוש).</li>
                <li><code>giftcards.js</code> – כולל <code>findSubscription()</code> ואולי <code>openSubscription()</code>.</li>
                <li><code>ajax_subscription.php</code> – CRUD (<code>findSubs, loadSub, saveSubs</code>).</li>
                <li>קבצים משניים:
                    <code>ajax_client.php</code>, <code>ajax_spaSMS.php</code>, <code>SumBalancer.js</code>, <code>UserUtilsNew.php</code>
                </li>
                <li>בסיסיים: <code>auth.php</code>, <code>functions.php</code> וכו’.</li>
            </ul>

            <!-- קבצים חסרים להשלמת חלק מהתרחישים -->
            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3>
            <ul>
                <li><code>ajax_pay_subscription.php</code> (או דומה) – לסליקה / תשלומים בפועל.</li>
                <li><code>Terminal.php</code>, <code>Transaction.php</code>, <code>CardComGeneral.php</code> (לסליקה/זיכויים)</li>
                <li><code>download_invoice_gc.php</code> (חשבוניות)</li>
                <li><code>picUpload.php</code> (להעלאת תמונות)</li>
            </ul>

            <!-- סיכום (Subscriptions) -->
            <h3>סיכום (Subscriptions)</h3>
            <ul>
                <li>עמוד <strong>Subscriptions</strong> פועל בדומה לעמוד GiftCards, אך לניהול מנויים:</li>
                <li>טבלה מרכזית (רשימת מנויים) + טופס חיפוש, יצירה/עריכה AJAX.</li>
                <li>“טיפולים” (<code>subscriptionTreatments</code>) במקום “מימושים”, וייתכן מודול תשלומים (<code>subscriptionPayments</code>).</li>
                <li>פעולות “מחיקה/ביטול/השהייה” ו”חיוב” דומות למודל GiftCards (activate/deactivate, refund).</li>
                <li>סליקה/זיכויים/חשבוניות דורשים קבצים נוספים.</li>
            </ul>
        </div>


        <!-- PAGES 7..29: placeholders -->
        <div id="page7" class="anchor-target">
            <h2 class="page-title">7. יומן תפוסה ספא (absolute_calendar)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <!-- page8..page29: identical placeholders with structure -->
        <div id="page8" class="anchor-target">
            <h2 class="page-title">8. יצירת הזמנה ספא (create_order)</h2>
            <!-- identical structure below -->
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <div id="page9" class="anchor-target">
            <h2 class="page-title">9. הגדרות ספא (treatments / treaters)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים להשלמת חלק מהתרחישים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <div id="page10" class="anchor-target">
            <h2 class="page-title">10. דוחות (report_manage)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <!-- repeated structure... -->
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <!-- ... PAGES 11..29 with identical structure ... -->
        <div id="page11" class="anchor-target">
            <h2 class="page-title">11. הצהרות בריאות (healthStatements)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <div id="page12" class="anchor-target">
            <h2 class="page-title">12. יומן זמינות והזמנות (calendar_ver2)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <!-- etc. (same repeated structure for each) -->
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <!-- page13..page29 similarly -->
        <div id="page13" class="anchor-target">
            <h2 class="page-title">13. יצירת הזמנה (create_order) – וריאציה שנייה</h2>
            <!-- placeholders... -->
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>
        <div id="page14" class="anchor-target">
            <h2 class="page-title">14. דוחות (userType=2)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>
        <div id="page15" class="anchor-target">
            <h2 class="page-title">15. לקוחות (clients)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <!-- repeat structure -->
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים אפשריים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים בעמוד</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <div id="page16" class="anchor-target">
            <h2 class="page-title">16. חיפוש הזמנות (orders-list)</h2>
            <!-- placeholders ... -->
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <!-- page17..page29 similarly omitted for brevity, but same structure -->
        <div id="page17" class="anchor-target">
            <h2 class="page-title">17. מחירים (prices)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

        <!-- ... and so on, up to page29 ... -->
        <div id="page29" class="anchor-target">
            <h2 class="page-title">29. דוחות (userType=2)</h2>
            <h3>הקדמה</h3><p class="placeholder">—</p>
            <h3>הקבצים הרלוונטיים לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים נוספים</h3><p class="placeholder">—</p>
            <h3>תרחישים כוללים</h3><p class="placeholder">—</p>
            <h3>קבצים שנבדקו לצורך</h3><p class="placeholder">—</p>
            <h3>קבצים חסרים</h3><p class="placeholder">—</p>
            <h3>סיכום</h3><p class="placeholder">—</p>
        </div>

    </div> <!-- end content -->

</div> <!-- end container -->
</body>
</html>
