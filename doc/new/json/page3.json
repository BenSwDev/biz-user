{
  "pageTitle": "3. הצטרפות לסליקה (cc)",
  "sections": [
    {
      "title": "הקדמה",
      "content": "הקובץ cc.php מציג מסך שמאפשר למשתמש לבחור בין שני מסלולי סליקה: (1) פתיחת ספק סליקה חדש (דרך ספק חיצוני, כגון max) ו-(2) חיבור ספק סליקה קיים. בנוסף, הקובץ כולל טופס לקבלת פרטי התקשרות מהמשתמש (שם מלא, שם המתחם, טלפון, אימייל), וכן בדיקה אם המשתמש מעוניין בהנפקת חשבוניות מהממשק."
    },
    {
      "title": "הקבצים הרלוונטיים לצורך cc",
      "content": "<ul>\n<li><code>cc.php</code> – מסך הצטרפות לסליקה, הכולל שני מסלולים: הקמת ספק חדש או חיבור מסוף קיים.</li>\n</ul>"
    },
    {
      "title": "קבצים נוספים (לפי הקוד)",
      "content": "<ul>\n<li><code>ajax_ccjoin.php</code> (לא מופיע בקובץ אך ייתכן שקיים) – לטיפול בצד שרת בעת שליחת הטופס.</li>\n<li><code>$_CURRENT_USER</code> ו־<code>$siteData</code> – אובייקטי משתמש/אתר (ולעיתים משתנה <code>suffix</code>), לצורך הצגת נתונים קיימים בטופס (למשל <code>siteName</code>, <code>phone</code>).</li>\n</ul>"
    },
    {
      "title": "תרחישים כוללים בעמוד cc",
      "subSections": [
        {
          "title": "תרחיש 1: הקמת ספק סליקה חדש",
          "content": "<table>\n<thead>\n<tr>\n<th>שלב</th>\n<th>צד המשתמש</th>\n<th>צד הקוד</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1.1</td>\n<td>המשתמש לוחץ על הלחצן “לחצו להצטרפות” במסלול 1 (הקימו ספק).</td>\n<td>1. <code>$('#ccpop').fadeIn()</code> – נפתח פופ-אפ עם טופס הצטרפות למסלול ספק חדש.<br>2. <code>typecc=1</code> מסמן בצד השרת שזהו מסלול ספק חדש.</td>\n</tr>\n<tr>\n<td>1.2</td>\n<td>ממלא את הפרטים (שם מלא, שם המתחם, טלפון, אימייל) וסמן/ה “ברצוני להנפיק חשבוניות”. לוחץ “שלח”.</td>\n<td>1. ה־<code>onClick=\"sendContact('ccform')\"</code> שולח את הנתונים באמצעות <code>$.post()</code> או <code>ajax</code> אחר לעיבוד.<br>2. הצד השרת (לא נראה בקוד הנוכחי) מקבל <code>typecc=1</code>, שומר נתונים ליצירת ספק חדש.</td>\n</tr>\n</tbody>\n</table>"
        },
        {
          "title": "תרחיש 2: חיבור ספק סליקה קיים",
          "content": "<table>\n<thead>\n<tr>\n<th>שלב</th>\n<th>צד המשתמש</th>\n<th>צד הקוד</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2.1</td>\n<td>המשתמש לוחץ על הלחצן “לחצו לחיבור המסוף” במסלול 2.</td>\n<td>1. <code>$('#ccpop').fadeIn()</code> נפתח פופ-אפ (כמו במסלול 1), אך <code>typecc=2</code> מציין שמדובר בחיבור מסוף קיים.<br>2. מופיעה כותרת “יש לי כבר ספק סליקה ואני מעוניין לסלוק דרכו”.</td>\n</tr>\n<tr>\n<td>2.2</td>\n<td>ממלא את פרטי העסק / המסוף, לוחץ “שלח”.</td>\n<td>1. הקוד שולח באופן זהה דרך הטופס (<code>sendContact('ccform')</code>) עם <code>typecc=2</code>.<br>2. בצד השרת מבצעים שמירת פרטי מסוף הסליקה של המשתמש ומקשרים לאתר/משתמש.</td>\n</tr>\n</tbody>\n</table>"
        }
      ]
    },
    {
      "title": "קבצים שנבדקו לצורך cc",
      "content": "<ul>\n<li><code>cc.php</code></li>\n</ul>"
    },
    {
      "title": "קבצים חסרים להשלמת חלק מהתרחישים",
      "content": "<ul>\n<li>קובץ עיבוד טופס (אולי <code>ajax_ccjoin.php</code>) – לא סופק.</li>\n<li>הגדרות המשתמש/אתר מלאות (כדי לראות כיצד נשמרים הפרטים).</li>\n</ul>"
    },
    {
      "title": "סיכום (cc)",
      "content": "<ul>\n<li><strong>cc.php</strong> מאפשר לשני סוגי משתמשים להצטרף לשירות סליקה: יצירת ספק חדש או חיבור מסוף קיים.</li>\n<li>ניתן למלא פרטי קשר ולקבל אפשרות להנפיק חשבוניות.</li>\n<li>הטופס נשלח באמצעות מנגנון Ajax (אינו מוצג במלואו כאן) ומשמש כנקודת כניסה להגדרת מסוף הסליקה של המשתמש.</li>\n</ul>"
    }
  ]
}
